<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kindo Mall</title>

<style>
body{
  font-family: Arial;
  background:#f2f2f2;
  margin:0;
}

/* HEADER */
header.header{
  background:#c40000;
  color:white;
  padding:15px;
}

.logo{
  display:flex;
  align-items:center;
  gap:10px;
}

.logo-k{
  background:white;
  color:#c40000;
  font-weight:bold;
  font-size:26px;
  width:40px;
  height:40px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:8px;
}

.logo h1{
  margin:0;
}

/* PRODUCTOS */
#products{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(220px,1fr));
  gap:15px;
  padding:20px;
}

.product{
  background:white;
  border-radius:10px;
  overflow:hidden;
  box-shadow:0 2px 6px rgba(0,0,0,0.2);
}

.product img{
  width:100%;
  height:200px;
  object-fit:cover;
}

.product h3{
  margin:10px;
}

.price{
  margin:10px;
  color:green;
  font-weight:bold;
}

/* BOTONES REDES */
.whatsapp-btn, .instagram-btn{
  position:fixed;
  right:15px;
  padding:12px 16px;
  color:white;
  border-radius:30px;
  text-decoration:none;
  font-weight:bold;
  box-shadow:0 3px 8px rgba(0,0,0,0.3);
}

.whatsapp-btn{
  bottom:20px;
  background:#25D366;
}

.instagram-btn{
  bottom:70px;
  background:#E1306C;
}

/* FOOTER */
.footer{
  background:#111;
  color:white;
  text-align:center;
  padding:20px;
  margin-top:40px;
}

.footer a{
  color:#4da6ff;
  text-decoration:none;
}
</style>
</head>

<body>

<header class="header">
  <div class="logo">
    <div class="logo-k">K</div>
    <h1>Kindo Mall</h1>
  </div>
</header>

<div id="products">Cargando productos...</div>

<footer class="footer">
  <p>
    üìç Ubicaci√≥n:
    <a href="https://maps.app.goo.gl/gWtkL2p69zGwPBgF9" target="_blank">
      Ver en Google Maps
    </a>
  </p>

  <p>Desarrollado por <strong>Cesar Dev</strong></p>
</footer>

<!-- BOTONES -->
<a href="https://api.whatsapp.com/message/GHE4RKLD422VO1?autoload=1&app_absent=0"
   target="_blank" class="whatsapp-btn">
   WhatsApp
</a>

<a href="https://www.instagram.com/kindomall/"
   target="_blank" class="instagram-btn">
   Instagram
</a>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js";
import {
  getFirestore,
  collection,
  onSnapshot
} from "https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCQd2Aw91y8Kb0c9EoDJTd9FvdlsfRSDqI",
  authDomain: "kindo-mall.firebaseapp.com",
  projectId: "kindo-mall",
  storageBucket: "kindo-mall.appspot.com",
  messagingSenderId: "463969508011",
  appId: "1:463969508011:web:1ee78cb55a67dc0a27f5ee"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const container = document.getElementById("products");

onSnapshot(collection(db, "products"), snapshot => {
  container.innerHTML = "";

  if(snapshot.empty){
    container.innerHTML = "No hay productos todav√≠a.";
    return;
  }

  snapshot.forEach(doc => {
    const p = doc.data();

    let img = "";
    if(p.images && p.images.length){
      img = `<img src="${p.images[0]}">`;
    }

    container.innerHTML += `
      <div class="product">
        ${img}
        <h3>${p.title || "Producto"}</h3>
        <div class="price">$${p.price || 0}</div>
      </div>
    `;
  });
});
</script>

</body>
</html>
