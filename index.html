<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kindo Mall</title>

<style>
body{font-family:Arial;background:#f2f2f2;margin:0}

/* HEADER */
header{background:#c40000;color:white;padding:15px;display:flex;justify-content:space-between;align-items:center}
.logo{display:flex;align-items:center;gap:10px}
.logo-k{background:white;color:#c40000;font-weight:bold;font-size:26px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:8px}
.admin-btn{background:white;color:#c40000;border:none;padding:8px 12px;border-radius:6px;cursor:pointer}

/* PRODUCTOS */
#products{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:15px;padding:20px}
.product{background:white;border-radius:10px;overflow:hidden;box-shadow:0 2px 6px rgba(0,0,0,0.2)}
.product img{width:100%;height:200px;object-fit:cover}
.product h3{margin:10px}
.price{margin:10px;color:green;font-weight:bold}

/* PANEL ADMIN */
#adminPanel{
position:fixed;
top:0;left:0;width:100%;height:100%;
background:rgba(0,0,0,0.6);
display:none;
align-items:center;
justify-content:center;
}

.panel{
background:white;
padding:20px;
border-radius:10px;
width:300px;
}

.panel input,.panel textarea{
width:100%;
margin-bottom:10px;
padding:8px;
}

.panel button{
background:#c40000;
color:white;
border:none;
padding:10px;
width:100%;
cursor:pointer;
}

/* REDES */
.whatsapp-btn,.instagram-btn{
position:fixed;right:15px;padding:12px 16px;color:white;border-radius:30px;text-decoration:none;font-weight:bold;
}
.whatsapp-btn{bottom:20px;background:#25D366}
.instagram-btn{bottom:70px;background:#E1306C}

/* FOOTER */
.footer{background:#111;color:white;text-align:center;padding:20px;margin-top:40px}
.footer a{color:#4da6ff}
</style>
</head>

<body>

<header>
<div class="logo">
<div class="logo-k">K</div>
<h1>Kindo Mall</h1>
</div>

<button class="admin-btn" onclick="openAdmin()">Admin</button>
</header>

<div id="products">Cargando productos...</div>

<footer class="footer">
<p>üìç <a href="https://maps.app.goo.gl/gWtkL2p69zGwPBgF9" target="_blank">Ubicaci√≥n</a></p>
<p>Desarrollado por <strong>Cesar Dev</strong></p>
</footer>

<a href="https://api.whatsapp.com/message/GHE4RKLD422VO1?autoload=1&app_absent=0" target="_blank" class="whatsapp-btn">WhatsApp</a>
<a href="https://www.instagram.com/kindomall/" target="_blank" class="instagram-btn">Instagram</a>

<!-- PANEL ADMIN -->
<div id="adminPanel">
<div class="panel">
<h3>Agregar Producto</h3>
<input id="title" placeholder="Nombre">
<input id="price" type="number" placeholder="Precio">
<textarea id="desc" placeholder="Descripci√≥n"></textarea>
<input id="image" placeholder="Nombre imagen (ej: zapato.jpg)">
<button onclick="addProduct()">Guardar</button>
<button onclick="closeAdmin()">Cerrar</button>
</div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js";
import { getFirestore, collection, addDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore.js";

const firebaseConfig = {
apiKey:"AIzaSyCQd2Aw91y8Kb0c9EoDJTd9FvdlsfRSDqI",
authDomain:"kindo-mall.firebaseapp.com",
projectId:"kindo-mall",
storageBucket:"kindo-mall.appspot.com",
messagingSenderId:"463969508011",
appId:"1:463969508011:web:1ee78cb55a67dc0a27f5ee"
};

const app=initializeApp(firebaseConfig);
const db=getFirestore(app);

const container=document.getElementById("products");

/* VER PRODUCTOS */
onSnapshot(collection(db,"products"),snapshot=>{
container.innerHTML="";
snapshot.forEach(doc=>{
const p=doc.data();

container.innerHTML+=`
<div class="product">
<img src="images/${p.image}">
<h3>${p.title}</h3>
<div class="price">$${p.price}</div>
</div>`;
});
});

/* PANEL ADMIN */
window.openAdmin=()=>adminPanel.style.display="flex";
window.closeAdmin=()=>adminPanel.style.display="none";

/* AGREGAR PRODUCTO */
window.addProduct=async()=>{
await addDoc(collection(db,"products"),{
title:title.value,
price:Number(price.value),
description:desc.value,
image:image.value
});

closeAdmin();
};
</script>

</body>
</html>
